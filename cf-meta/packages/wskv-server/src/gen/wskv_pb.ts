// @generated by protoc-gen-es v2.11.0 with parameter "target=ts"
// @generated from file wskv.proto (package pb, syntax proto3)
/* eslint-disable */

import type { GenFile, GenMessage } from "@bufbuild/protobuf/codegenv2";
import { fileDesc, messageDesc } from "@bufbuild/protobuf/codegenv2";
import type { Message } from "@bufbuild/protobuf";

/**
 * Describes the file wskv.proto.
 */
export const file_wskv: GenFile = /*@__PURE__*/
  fileDesc("Cgp3c2t2LnByb3RvEgJwYiIlCgpHZXRSZXF1ZXN0EgoKAmlkGAEgASgEEgsKA2tleRgCIAEoDCJXCgtMaXN0UmVxdWVzdBIKCgJpZBgBIAEoBBINCgVzdGFydBgCIAEoDBILCgNlbmQYAyABKAwSEQoJa2V5c19vbmx5GAQgASgIEg0KBWxpbWl0GAUgASgNImAKDUNvbW1pdFJlcXVlc3QSCgoCaWQYASABKAQSHgoIb2JzZXJ2ZWQYAiADKAsyDC5wYi5PYnNlcnZlZBIVCgRwdXRzGAMgAygLMgcucGIuUHV0EgwKBGRlbHMYBCADKAwiGgoMUmVzZXRSZXF1ZXN0EgoKAmlkGAEgASgEInAKEEluaXROb3RpZmljYXRpb24SDwoHc3RvcmFnZRgBIAEoCRIOCgZidWNrZXQYAiABKAkSEgoKYWNjZXNzX2tleRgDIAEoCRISCgpzZWNyZXRfa2V5GAQgASgJEhMKC3ZvbHVtZV9uYW1lGAUgASgJIhMKEVJlYWR5Tm90aWZpY2F0aW9uIkQKC0dldFJlc3BvbnNlEgoKAmlkGAEgASgEEg0KBXZhbHVlGAIgASgMEgsKA3ZlchgDIAEoDRINCgVmb3VuZBgEIAEoCCI2CgxMaXN0UmVzcG9uc2USCgoCaWQYASABKAQSGgoHZW50cmllcxgCIAMoCzIJLnBiLkVudHJ5IjcKDkNvbW1pdFJlc3BvbnNlEgoKAmlkGAEgASgEEgoKAm9rGAIgASgIEg0KBWVycm9yGAMgASgJIjYKDVJlc2V0UmVzcG9uc2USCgoCaWQYASABKAQSCgoCb2sYAiABKAgSDQoFZXJyb3IYAyABKAkiqAMKC1dza3ZNZXNzYWdlEiEKB2dldF9yZXEYASABKAsyDi5wYi5HZXRSZXF1ZXN0SAASIwoIbGlzdF9yZXEYAiABKAsyDy5wYi5MaXN0UmVxdWVzdEgAEicKCmNvbW1pdF9yZXEYAyABKAsyES5wYi5Db21taXRSZXF1ZXN0SAASJQoJcmVzZXRfcmVxGAQgASgLMhAucGIuUmVzZXRSZXF1ZXN0SAASIwoIZ2V0X3Jlc3AYCiABKAsyDy5wYi5HZXRSZXNwb25zZUgAEiUKCWxpc3RfcmVzcBgLIAEoCzIQLnBiLkxpc3RSZXNwb25zZUgAEikKC2NvbW1pdF9yZXNwGAwgASgLMhIucGIuQ29tbWl0UmVzcG9uc2VIABInCgpyZXNldF9yZXNwGA0gASgLMhEucGIuUmVzZXRSZXNwb25zZUgAEisKC2luaXRfbm90aWZ5GBQgASgLMhQucGIuSW5pdE5vdGlmaWNhdGlvbkgAEi0KDHJlYWR5X25vdGlmeRgVIAEoCzIVLnBiLlJlYWR5Tm90aWZpY2F0aW9uSABCBQoDbXNnIiQKCE9ic2VydmVkEgsKA2tleRgBIAEoDBILCgN2ZXIYAiABKA0iIQoDUHV0EgsKA2tleRgBIAEoDBINCgV2YWx1ZRgCIAEoDCIwCgVFbnRyeRILCgNrZXkYASABKAwSDQoFdmFsdWUYAiABKAwSCwoDdmVyGAMgASgNQgZaBC4vcGJiBnByb3RvMw");

/**
 * GetRequest fetches a single key's value and version from the store.
 * The server looks up the key and returns its current value and OCC version.
 * If the key does not exist, the response has found=false and ver=0.
 * Within a transaction, the returned version is recorded so the commit
 * can detect concurrent modifications.
 *
 * @generated from message pb.GetRequest
 */
export type GetRequest = Message<"pb.GetRequest"> & {
  /**
   * @generated from field: uint64 id = 1;
   */
  id: bigint;

  /**
   * @generated from field: bytes key = 2;
   */
  key: Uint8Array;
};

/**
 * Describes the message pb.GetRequest.
 * Use `create(GetRequestSchema)` to create a new message.
 */
export const GetRequestSchema: GenMessage<GetRequest> = /*@__PURE__*/
  messageDesc(file_wskv, 0);

/**
 * ListRequest performs a sorted range scan over keys in [start, end).
 * The server returns all matching entries ordered by key (binary sort order).
 * If keys_only is true, entry values are omitted (useful for existence checks).
 * If limit > 0, at most that many entries are returned.
 * Within a transaction, the version of every returned entry is recorded
 * for OCC conflict detection at commit time.
 *
 * @generated from message pb.ListRequest
 */
export type ListRequest = Message<"pb.ListRequest"> & {
  /**
   * @generated from field: uint64 id = 1;
   */
  id: bigint;

  /**
   * inclusive lower bound
   *
   * @generated from field: bytes start = 2;
   */
  start: Uint8Array;

  /**
   * exclusive upper bound
   *
   * @generated from field: bytes end = 3;
   */
  end: Uint8Array;

  /**
   * @generated from field: bool keys_only = 4;
   */
  keysOnly: boolean;

  /**
   * 0 = no limit
   *
   * @generated from field: uint32 limit = 5;
   */
  limit: number;
};

/**
 * Describes the message pb.ListRequest.
 * Use `create(ListRequestSchema)` to create a new message.
 */
export const ListRequestSchema: GenMessage<ListRequest> = /*@__PURE__*/
  messageDesc(file_wskv, 1);

/**
 * CommitRequest atomically applies a set of writes after verifying that
 * no observed keys have been modified since they were read.
 *
 * The server executes this inside a single synchronous transaction:
 *   1. For each entry in observed: verify the key's current version matches.
 *      If any version differs (or a key was created/deleted), the commit
 *      fails with "write conflict" and no changes are applied.
 *   2. For each entry in puts: upsert the key with the new value and
 *      increment its version.
 *   3. For each key in dels: delete the key from the store.
 *
 * On conflict, the client retries the entire transaction (read + commit).
 * JuiceFS has built-in retry logic for this.
 *
 * @generated from message pb.CommitRequest
 */
export type CommitRequest = Message<"pb.CommitRequest"> & {
  /**
   * @generated from field: uint64 id = 1;
   */
  id: bigint;

  /**
   * @generated from field: repeated pb.Observed observed = 2;
   */
  observed: Observed[];

  /**
   * @generated from field: repeated pb.Put puts = 3;
   */
  puts: Put[];

  /**
   * @generated from field: repeated bytes dels = 4;
   */
  dels: Uint8Array[];
};

/**
 * Describes the message pb.CommitRequest.
 * Use `create(CommitRequestSchema)` to create a new message.
 */
export const CommitRequestSchema: GenMessage<CommitRequest> = /*@__PURE__*/
  messageDesc(file_wskv, 2);

/**
 * ResetRequest deletes all keys from the store. Used during volume
 * initialization and testing. This is not transactional â€” it
 * unconditionally wipes the entire store.
 *
 * @generated from message pb.ResetRequest
 */
export type ResetRequest = Message<"pb.ResetRequest"> & {
  /**
   * @generated from field: uint64 id = 1;
   */
  id: bigint;
};

/**
 * Describes the message pb.ResetRequest.
 * Use `create(ResetRequestSchema)` to create a new message.
 */
export const ResetRequestSchema: GenMessage<ResetRequest> = /*@__PURE__*/
  messageDesc(file_wskv, 3);

/**
 * InitNotification is sent by the Durable Object to the container after
 * the WebSocket connects. It provides the object storage credentials and
 * volume name needed to mount JuiceFS.
 *
 * @generated from message pb.InitNotification
 */
export type InitNotification = Message<"pb.InitNotification"> & {
  /**
   * @generated from field: string storage = 1;
   */
  storage: string;

  /**
   * @generated from field: string bucket = 2;
   */
  bucket: string;

  /**
   * @generated from field: string access_key = 3;
   */
  accessKey: string;

  /**
   * @generated from field: string secret_key = 4;
   */
  secretKey: string;

  /**
   * @generated from field: string volume_name = 5;
   */
  volumeName: string;
};

/**
 * Describes the message pb.InitNotification.
 * Use `create(InitNotificationSchema)` to create a new message.
 */
export const InitNotificationSchema: GenMessage<InitNotification> = /*@__PURE__*/
  messageDesc(file_wskv, 4);

/**
 * ReadyNotification is sent by the container back to the Durable Object
 * after JuiceFS has been successfully mounted and is ready to serve.
 *
 * @generated from message pb.ReadyNotification
 */
export type ReadyNotification = Message<"pb.ReadyNotification"> & {
};

/**
 * Describes the message pb.ReadyNotification.
 * Use `create(ReadyNotificationSchema)` to create a new message.
 */
export const ReadyNotificationSchema: GenMessage<ReadyNotification> = /*@__PURE__*/
  messageDesc(file_wskv, 5);

/**
 * @generated from message pb.GetResponse
 */
export type GetResponse = Message<"pb.GetResponse"> & {
  /**
   * @generated from field: uint64 id = 1;
   */
  id: bigint;

  /**
   * empty if key not found
   *
   * @generated from field: bytes value = 2;
   */
  value: Uint8Array;

  /**
   * 0 if key not found
   *
   * @generated from field: uint32 ver = 3;
   */
  ver: number;

  /**
   * @generated from field: bool found = 4;
   */
  found: boolean;
};

/**
 * Describes the message pb.GetResponse.
 * Use `create(GetResponseSchema)` to create a new message.
 */
export const GetResponseSchema: GenMessage<GetResponse> = /*@__PURE__*/
  messageDesc(file_wskv, 6);

/**
 * @generated from message pb.ListResponse
 */
export type ListResponse = Message<"pb.ListResponse"> & {
  /**
   * @generated from field: uint64 id = 1;
   */
  id: bigint;

  /**
   * @generated from field: repeated pb.Entry entries = 2;
   */
  entries: Entry[];
};

/**
 * Describes the message pb.ListResponse.
 * Use `create(ListResponseSchema)` to create a new message.
 */
export const ListResponseSchema: GenMessage<ListResponse> = /*@__PURE__*/
  messageDesc(file_wskv, 7);

/**
 * @generated from message pb.CommitResponse
 */
export type CommitResponse = Message<"pb.CommitResponse"> & {
  /**
   * @generated from field: uint64 id = 1;
   */
  id: bigint;

  /**
   * @generated from field: bool ok = 2;
   */
  ok: boolean;

  /**
   * @generated from field: string error = 3;
   */
  error: string;
};

/**
 * Describes the message pb.CommitResponse.
 * Use `create(CommitResponseSchema)` to create a new message.
 */
export const CommitResponseSchema: GenMessage<CommitResponse> = /*@__PURE__*/
  messageDesc(file_wskv, 8);

/**
 * @generated from message pb.ResetResponse
 */
export type ResetResponse = Message<"pb.ResetResponse"> & {
  /**
   * @generated from field: uint64 id = 1;
   */
  id: bigint;

  /**
   * @generated from field: bool ok = 2;
   */
  ok: boolean;

  /**
   * @generated from field: string error = 3;
   */
  error: string;
};

/**
 * Describes the message pb.ResetResponse.
 * Use `create(ResetResponseSchema)` to create a new message.
 */
export const ResetResponseSchema: GenMessage<ResetResponse> = /*@__PURE__*/
  messageDesc(file_wskv, 9);

/**
 * @generated from message pb.WskvMessage
 */
export type WskvMessage = Message<"pb.WskvMessage"> & {
  /**
   * @generated from oneof pb.WskvMessage.msg
   */
  msg: {
    /**
     * requests
     *
     * @generated from field: pb.GetRequest get_req = 1;
     */
    value: GetRequest;
    case: "getReq";
  } | {
    /**
     * @generated from field: pb.ListRequest list_req = 2;
     */
    value: ListRequest;
    case: "listReq";
  } | {
    /**
     * @generated from field: pb.CommitRequest commit_req = 3;
     */
    value: CommitRequest;
    case: "commitReq";
  } | {
    /**
     * @generated from field: pb.ResetRequest reset_req = 4;
     */
    value: ResetRequest;
    case: "resetReq";
  } | {
    /**
     * responses
     *
     * @generated from field: pb.GetResponse get_resp = 10;
     */
    value: GetResponse;
    case: "getResp";
  } | {
    /**
     * @generated from field: pb.ListResponse list_resp = 11;
     */
    value: ListResponse;
    case: "listResp";
  } | {
    /**
     * @generated from field: pb.CommitResponse commit_resp = 12;
     */
    value: CommitResponse;
    case: "commitResp";
  } | {
    /**
     * @generated from field: pb.ResetResponse reset_resp = 13;
     */
    value: ResetResponse;
    case: "resetResp";
  } | {
    /**
     * control
     *
     * @generated from field: pb.InitNotification init_notify = 20;
     */
    value: InitNotification;
    case: "initNotify";
  } | {
    /**
     * @generated from field: pb.ReadyNotification ready_notify = 21;
     */
    value: ReadyNotification;
    case: "readyNotify";
  } | { case: undefined; value?: undefined };
};

/**
 * Describes the message pb.WskvMessage.
 * Use `create(WskvMessageSchema)` to create a new message.
 */
export const WskvMessageSchema: GenMessage<WskvMessage> = /*@__PURE__*/
  messageDesc(file_wskv, 10);

/**
 * @generated from message pb.Observed
 */
export type Observed = Message<"pb.Observed"> & {
  /**
   * @generated from field: bytes key = 1;
   */
  key: Uint8Array;

  /**
   * @generated from field: uint32 ver = 2;
   */
  ver: number;
};

/**
 * Describes the message pb.Observed.
 * Use `create(ObservedSchema)` to create a new message.
 */
export const ObservedSchema: GenMessage<Observed> = /*@__PURE__*/
  messageDesc(file_wskv, 11);

/**
 * @generated from message pb.Put
 */
export type Put = Message<"pb.Put"> & {
  /**
   * @generated from field: bytes key = 1;
   */
  key: Uint8Array;

  /**
   * @generated from field: bytes value = 2;
   */
  value: Uint8Array;
};

/**
 * Describes the message pb.Put.
 * Use `create(PutSchema)` to create a new message.
 */
export const PutSchema: GenMessage<Put> = /*@__PURE__*/
  messageDesc(file_wskv, 12);

/**
 * @generated from message pb.Entry
 */
export type Entry = Message<"pb.Entry"> & {
  /**
   * @generated from field: bytes key = 1;
   */
  key: Uint8Array;

  /**
   * empty when keys_only
   *
   * @generated from field: bytes value = 2;
   */
  value: Uint8Array;

  /**
   * @generated from field: uint32 ver = 3;
   */
  ver: number;
};

/**
 * Describes the message pb.Entry.
 * Use `create(EntrySchema)` to create a new message.
 */
export const EntrySchema: GenMessage<Entry> = /*@__PURE__*/
  messageDesc(file_wskv, 13);

